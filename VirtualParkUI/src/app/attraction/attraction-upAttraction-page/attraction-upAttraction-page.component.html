<section class="ride-page">
    <div class="ride-header">
        <div>
            <h1>Ride Attractions</h1>
            <p>You can board using NFC or QR code.</p>
        </div>
        <div class="ride-actions">
            <app-buttons
                color="secondary"
                text="Down"
                [disabled]="downLoading"
                (clicked)="onDown()">
            </app-buttons>
        </div>
    </div>

    <div *ngIf="errorMessage" class="state error">{{ errorMessage }}</div>
    <div *ngIf="successMessage" class="state success">{{ successMessage }}</div>
    <div *ngIf="loading" class="state">Cargando...</div>

    <app-generic-table *ngIf="!loading"
        [columns]="columns"
        [data]="data"
        [emptyMessage]="errorMessage || 'No hay atracciones disponibles'"
        [cellTemplates]="{ actions: actionsTpl }">
    </app-generic-table>

    <ng-template #actionsTpl let-row>
        <div class="action-buttons">
            <app-buttons color="primary" text="NFC" [disabled]="processingId === row.id" (clicked)="onRide(row)">
            </app-buttons>
            <app-buttons color="secondary" text="QR" [disabled]="processingId === row.id" (clicked)="onRide(row)">
            </app-buttons>
        </div>
    </ng-template>
</section>
