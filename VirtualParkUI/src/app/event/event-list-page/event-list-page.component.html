<div class="event-container">
  <div class="event-card">
    <h1 class="event-title">Events</h1>

    <div class="actions" *ngIf="canManageEvents()">
      <app-buttons text="New Event" color="primary" (click)="create()"></app-buttons>
    </div>

    <app-confirm-dialog
      [show]="showDeleteModal"
      title="Delete Event"
      message="Are you sure you want to delete this event?"
      (confirmed)="handleDeleteConfirm($event)">
    </app-confirm-dialog>

    <div *ngIf="error" class="error-box">
      <p>{{ error }}</p>
    </div>

    <div *ngIf="!loading && !events.length" class="empty-box">
      <p>There are no recorded events.</p>
    </div>

    <div *ngIf="!loading && events.length" class="event-list">
      <div class="event-item" *ngFor="let ev of events">
        <h2>{{ ev.name }}</h2>
        <p><strong>Date:</strong> {{ ev.date }}</p>
        <p><strong>Capacity:</strong> {{ ev.capacity }}</p>
        <p><strong>Cost:</strong> {{ ev.cost }}</p>
        <p><strong>Tickets Sold:</strong> {{ ev.ticketsSold }}</p>

        <div class="buttons-row" *ngIf="canManageEvents()">
          <app-buttons text="Edit" color="primary" (clicked)="edit(ev.id)"></app-buttons>
          <app-buttons text="Delete" color="danger" (clicked)="remove(ev.id)"></app-buttons>
        </div>
      </div>
    </div>
  </div>
</div>
