<app-message></app-message>

<h1>Redeem Rewards</h1>

<div *ngIf="loading" class="loading">Loading rewards...</div>

<div *ngIf="!loading && rewards.length === 0" class="empty">
  No rewards available.
</div>

<div class="visitor-points-box" *ngIf="visitorScore !== null">
  <strong>Your Points:</strong>
  <span class="visitor-points-value">{{ visitorScore }}</span>
</div>

<div class="reward-list" *ngIf="rewards.length > 0">
  <div class="reward-card" *ngFor="let reward of rewards">
    <h2>{{ reward.name }}</h2>

    <p><strong>Cost:</strong> {{ reward.cost }} points</p>

    <p>
      <span class="available-badge" [ngClass]="{ 'low': reward.quantityAvailable <= 2 }">
        Available: {{ reward.quantityAvailable }}
      </span>
    </p>

    <div class="card-actions">
      <app-buttons text="Redeem" color="primary" (click)="redeem(reward)"></app-buttons>
    </div>
  </div>
</div>
